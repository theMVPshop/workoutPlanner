{"ast":null,"code":"// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nimport { sleep } from 'openai/core';\nimport { APIConnectionTimeoutError } from 'openai/error';\nimport { multipartFormRequestOptions } from 'openai/core';\nimport { Page } from 'openai/pagination';\nexport class Files extends APIResource {\n  /**\n   * Upload a file that contains document(s) to be used across various\n   * endpoints/features. Currently, the size of all the files uploaded by one\n   * organization can be up to 1 GB. Please contact us if you need to increase the\n   * storage limit.\n   */\n  create(body, options) {\n    return this.post('/files', multipartFormRequestOptions({\n      body,\n      ...options\n    }));\n  }\n  /**\n   * Returns information about a specific file.\n   */\n  retrieve(fileId, options) {\n    return this.get(`/files/${fileId}`, options);\n  }\n  /**\n   * Returns a list of files that belong to the user's organization.\n   */\n  list(options) {\n    return this.getAPIList('/files', FileObjectsPage, options);\n  }\n  /**\n   * Delete a file.\n   */\n  del(fileId, options) {\n    return this.delete(`/files/${fileId}`, options);\n  }\n  /**\n   * Returns the contents of the specified file.\n   */\n  retrieveContent(fileId, options) {\n    return this.get(`/files/${fileId}/content`, {\n      ...options,\n      headers: {\n        Accept: 'application/json',\n        ...(options === null || options === void 0 ? void 0 : options.headers)\n      }\n    });\n  }\n  /**\n   * Waits for the given file to be processed, default timeout is 30 mins.\n   */\n  async waitForProcessing(id, {\n    pollInterval = 5000,\n    maxWait = 30 * 60 * 1000\n  } = {}) {\n    const TERMINAL_STATES = new Set(['processed', 'error', 'deleted']);\n    const start = Date.now();\n    let file = await this.retrieve(id);\n    while (!file.status || !TERMINAL_STATES.has(file.status)) {\n      await sleep(pollInterval);\n      file = await this.retrieve(id);\n      if (Date.now() - start > maxWait) {\n        throw new APIConnectionTimeoutError({\n          message: `Giving up on waiting for file ${id} to finish processing after ${maxWait} milliseconds.`\n        });\n      }\n    }\n    return file;\n  }\n}\n/**\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\n */\nexport class FileObjectsPage extends Page {}\n(function (Files) {})(Files || (Files = {}));","map":{"version":3,"names":["APIResource","sleep","APIConnectionTimeoutError","multipartFormRequestOptions","Page","Files","create","body","options","post","retrieve","fileId","get","list","getAPIList","FileObjectsPage","del","delete","retrieveContent","headers","Accept","waitForProcessing","id","pollInterval","maxWait","TERMINAL_STATES","Set","start","Date","now","file","status","has","message"],"sources":["C:\\Users\\12818\\Documents\\MVPworkshop\\workoutPlanner\\sweat-smart\\node_modules\\openai\\src\\resources\\files.ts"],"sourcesContent":["// File generated from our OpenAPI spec by Stainless.\n\nimport * as Core from \"../core\";\nimport { APIResource } from \"../resource\";\nimport { sleep } from \"../core\";\nimport { APIConnectionTimeoutError } from \"../error\";\nimport * as API from './index';\nimport { type Uploadable, multipartFormRequestOptions } from \"../core\";\nimport { Page } from \"../pagination\";\n\nexport class Files extends APIResource {\n  /**\n   * Upload a file that contains document(s) to be used across various\n   * endpoints/features. Currently, the size of all the files uploaded by one\n   * organization can be up to 1 GB. Please contact us if you need to increase the\n   * storage limit.\n   */\n  create(body: FileCreateParams, options?: Core.RequestOptions): Core.APIPromise<FileObject> {\n    return this.post('/files', multipartFormRequestOptions({ body, ...options }));\n  }\n\n  /**\n   * Returns information about a specific file.\n   */\n  retrieve(fileId: string, options?: Core.RequestOptions): Core.APIPromise<FileObject> {\n    return this.get(`/files/${fileId}`, options);\n  }\n\n  /**\n   * Returns a list of files that belong to the user's organization.\n   */\n  list(options?: Core.RequestOptions): Core.PagePromise<FileObjectsPage, FileObject> {\n    return this.getAPIList('/files', FileObjectsPage, options);\n  }\n\n  /**\n   * Delete a file.\n   */\n  del(fileId: string, options?: Core.RequestOptions): Core.APIPromise<FileDeleted> {\n    return this.delete(`/files/${fileId}`, options);\n  }\n\n  /**\n   * Returns the contents of the specified file.\n   */\n  retrieveContent(fileId: string, options?: Core.RequestOptions): Core.APIPromise<string> {\n    return this.get(`/files/${fileId}/content`, {\n      ...options,\n      headers: { Accept: 'application/json', ...options?.headers },\n    });\n  }\n\n  /**\n   * Waits for the given file to be processed, default timeout is 30 mins.\n   */\n  async waitForProcessing(\n    id: string,\n    { pollInterval = 5000, maxWait = 30 * 60 * 1000 }: { pollInterval?: number; maxWait?: number } = {},\n  ): Promise<FileObject> {\n    const TERMINAL_STATES = new Set(['processed', 'error', 'deleted']);\n\n    const start = Date.now();\n    let file = await this.retrieve(id);\n\n    while (!file.status || !TERMINAL_STATES.has(file.status)) {\n      await sleep(pollInterval);\n\n      file = await this.retrieve(id);\n      if (Date.now() - start > maxWait) {\n        throw new APIConnectionTimeoutError({\n          message: `Giving up on waiting for file ${id} to finish processing after ${maxWait} milliseconds.`,\n        });\n      }\n    }\n\n    return file;\n  }\n}\n\n/**\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\n */\nexport class FileObjectsPage extends Page<FileObject> {}\n// alias so we can export it in the namespace\ntype _FileObjectsPage = FileObjectsPage;\n\nexport type FileContent = string;\n\nexport interface FileDeleted {\n  id: string;\n\n  deleted: boolean;\n\n  object: string;\n}\n\n/**\n * The `File` object represents a document that has been uploaded to OpenAI.\n */\nexport interface FileObject {\n  /**\n   * The file identifier, which can be referenced in the API endpoints.\n   */\n  id: string;\n\n  /**\n   * The size of the file in bytes.\n   */\n  bytes: number;\n\n  /**\n   * The Unix timestamp (in seconds) for when the file was created.\n   */\n  created_at: number;\n\n  /**\n   * The name of the file.\n   */\n  filename: string;\n\n  /**\n   * The object type, which is always \"file\".\n   */\n  object: string;\n\n  /**\n   * The intended purpose of the file. Currently, only \"fine-tune\" is supported.\n   */\n  purpose: string;\n\n  /**\n   * The current status of the file, which can be either `uploaded`, `processed`,\n   * `pending`, `error`, `deleting` or `deleted`.\n   */\n  status?: string;\n\n  /**\n   * Additional details about the status of the file. If the file is in the `error`\n   * state, this will include a message describing the error.\n   */\n  status_details?: string | null;\n}\n\nexport interface FileCreateParams {\n  /**\n   * Name of the [JSON Lines](https://jsonlines.readthedocs.io/en/latest/) file to be\n   * uploaded.\n   *\n   * If the `purpose` is set to \"fine-tune\", the file will be used for fine-tuning.\n   */\n  file: Uploadable;\n\n  /**\n   * The intended purpose of the uploaded documents.\n   *\n   * Use \"fine-tune\" for\n   * [fine-tuning](https://platform.openai.com/docs/api-reference/fine-tuning). This\n   * allows us to validate the format of the uploaded file.\n   */\n  purpose: string;\n}\n\nexport namespace Files {\n  export import FileContent = API.FileContent;\n  export import FileDeleted = API.FileDeleted;\n  export import FileObject = API.FileObject;\n  export type FileObjectsPage = _FileObjectsPage;\n  export import FileCreateParams = API.FileCreateParams;\n}\n"],"mappings":"AAAA;SAGSA,WAAW,QAAQ,iBAAiB;SACpCC,KAAK,QAAQ,aAAa;SAC1BC,yBAAyB,QAAQ,cAAc;SAE9BC,2BAA2B,QAAQ,aAAa;SACjEC,IAAI,QAAQ,mBAAmB;AAExC,OAAM,MAAOC,KAAM,SAAQL,WAAW;EACpC;;;;;;EAMAM,MAAMA,CAACC,IAAsB,EAAEC,OAA6B;IAC1D,OAAO,IAAI,CAACC,IAAI,CAAC,QAAQ,EAAEN,2BAA2B,CAAC;MAAEI,IAAI;MAAE,GAAGC;IAAO,CAAE,CAAC,CAAC;EAC/E;EAEA;;;EAGAE,QAAQA,CAACC,MAAc,EAAEH,OAA6B;IACpD,OAAO,IAAI,CAACI,GAAG,CAAC,UAAUD,MAAM,EAAE,EAAEH,OAAO,CAAC;EAC9C;EAEA;;;EAGAK,IAAIA,CAACL,OAA6B;IAChC,OAAO,IAAI,CAACM,UAAU,CAAC,QAAQ,EAAEC,eAAe,EAAEP,OAAO,CAAC;EAC5D;EAEA;;;EAGAQ,GAAGA,CAACL,MAAc,EAAEH,OAA6B;IAC/C,OAAO,IAAI,CAACS,MAAM,CAAC,UAAUN,MAAM,EAAE,EAAEH,OAAO,CAAC;EACjD;EAEA;;;EAGAU,eAAeA,CAACP,MAAc,EAAEH,OAA6B;IAC3D,OAAO,IAAI,CAACI,GAAG,CAAC,UAAUD,MAAM,UAAU,EAAE;MAC1C,GAAGH,OAAO;MACVW,OAAO,EAAE;QAAEC,MAAM,EAAE,kBAAkB;QAAE,IAAGZ,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEW,OAAO;MAAA;KAC3D,CAAC;EACJ;EAEA;;;EAGA,MAAME,iBAAiBA,CACrBC,EAAU,EACV;IAAEC,YAAY,GAAG,IAAI;IAAEC,OAAO,GAAG,EAAE,GAAG,EAAE,GAAG;EAAI,IAAkD,EAAE;IAEnG,MAAMC,eAAe,GAAG,IAAIC,GAAG,CAAC,CAAC,WAAW,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC;IAElE,MAAMC,KAAK,GAAGC,IAAI,CAACC,GAAG,EAAE;IACxB,IAAIC,IAAI,GAAG,MAAM,IAAI,CAACpB,QAAQ,CAACY,EAAE,CAAC;IAElC,OAAO,CAACQ,IAAI,CAACC,MAAM,IAAI,CAACN,eAAe,CAACO,GAAG,CAACF,IAAI,CAACC,MAAM,CAAC,EAAE;MACxD,MAAM9B,KAAK,CAACsB,YAAY,CAAC;MAEzBO,IAAI,GAAG,MAAM,IAAI,CAACpB,QAAQ,CAACY,EAAE,CAAC;MAC9B,IAAIM,IAAI,CAACC,GAAG,EAAE,GAAGF,KAAK,GAAGH,OAAO,EAAE;QAChC,MAAM,IAAItB,yBAAyB,CAAC;UAClC+B,OAAO,EAAE,iCAAiCX,EAAE,+BAA+BE,OAAO;SACnF,CAAC;;;IAIN,OAAOM,IAAI;EACb;;AAGF;;;AAGA,OAAM,MAAOf,eAAgB,SAAQX,IAAgB;AAgFrD,WAAiBC,KAAK,GAMtB,CAAC,EANgBA,KAAK,KAALA,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}